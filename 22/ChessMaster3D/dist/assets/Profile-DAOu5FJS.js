import{u as L,j as e,m as o}from"./index-C4qqbxA3.js";import{u as C}from"./progressStore-B8khYM18.js";import{X as M,S}from"./ProgressBar-ODAvTMDb.js";import{l as z}from"./lessons-xSRSB9NW.js";import"./middleware-EJ6QVAsm.js";const B=[{id:"basic_mate",name:"Mat de Base",description:"Reconnaître et exécuter les mats fondamentaux",icon:"crown",category:"fundamentals"},{id:"tactics_basic",name:"Tactiques de Base",description:"Identifier les pièces non défendues et les menaces simples",icon:"target",category:"tactics"},{id:"fork",name:"Fourchette",description:"Attaquer deux pièces à la fois avec une seule pièce",icon:"git-fork",category:"tactics"},{id:"pin",name:"Clouage",description:"Immobiliser une pièce devant le Roi ou la Dame",icon:"pin",category:"tactics"},{id:"skewer",name:"Enfilade",description:"Attaquer une pièce forte pour capturer derrière",icon:"arrow-right",category:"tactics"},{id:"attraction",name:"Attraction",description:"Forcer une pièce vers une case défavorable",icon:"magnet",category:"tactics"},{id:"double_attack",name:"Coup Double",description:"Créer deux menaces simultanées indépendantes",icon:"zap",category:"tactics"},{id:"sacrifice",name:"Sacrifice",description:"Donner du matériel pour un gain supérieur",icon:"flame",category:"tactics"},{id:"smothered_mate",name:"Mat Étouffé",description:"Mater un Roi entouré de ses propres pièces",icon:"shield",category:"patterns"},{id:"endgame_pawn",name:"Finales de Pions",description:"Maîtriser l'opposition et les cases clés",icon:"chevron-up",category:"endgame"},{id:"endgame_rook",name:"Finales de Tours",description:"Techniques essentielles des finales de Tours",icon:"castle",category:"endgame"}],P=[{id:"fundamentals",name:"Fondamentaux",color:"#4CAF50"},{id:"tactics",name:"Tactiques",color:"#FF9800"},{id:"patterns",name:"Motifs",color:"#9C27B0"},{id:"endgame",name:"Finales",color:"#2196F3"}],v={skills:B,categories:P};function D(){const l=L(),{lessonsCompleted:d,drillsStats:m,skillScores:u,totalXP:x,level:r,currentStreak:g}=C(),j=z.chapters.reduce((s,t)=>s+t.lessons.length,0),i=d.length,w=Math.round(i/j*100),p=Object.entries(m),a=p.reduce((s,[t,n])=>s+n.completed,0),b=p.reduce((s,[t,n])=>s+n.correct,0),k=a>0?Math.round(b/a*100):0,f=p.reduce((s,[t,n])=>Math.max(s,n.bestStreak),g),y=v.categories.map(s=>({...s,skills:v.skills.filter(t=>t.category===s.id)})),N={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},h={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs("div",{className:"min-h-screen p-6 overflow-y-auto",children:[e.jsxs(o.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto mb-8",children:[e.jsxs("button",{onClick:()=>l("/"),className:"flex items-center gap-2 text-wood-accent hover:text-wood-light transition-colors mb-4",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour"]}),e.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-wood-medium to-yellow-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-wood-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-wood-light",children:"Profil"}),e.jsx("p",{className:"text-wood-accent",children:"Joueur d'échecs en progression"})]})]}),e.jsx(M,{currentXP:x,level:r})]}),e.jsxs(o.main,{variants:N,initial:"hidden",animate:"show",className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs(o.section,{variants:h,className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsx(c,{label:"Leçons",value:`${i}/${j}`,subtext:`${w}% complété`,icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),color:"blue"}),e.jsx(c,{label:"Puzzles",value:a.toString(),subtext:`${k}% précision`,icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),color:"orange"}),e.jsx(c,{label:"Série actuelle",value:g.toString(),subtext:"puzzles corrects",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"})}),color:"yellow"}),e.jsx(c,{label:"Meilleure série",value:f.toString(),subtext:"record personnel",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),color:"purple"})]}),e.jsxs(o.section,{variants:h,className:"glass rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-wood-light mb-4",children:"Compétences"}),e.jsx("div",{className:"space-y-6",children:y.map(s=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-3",style:{color:s.color},children:s.name}),e.jsx("div",{className:"space-y-3",children:s.skills.map(t=>e.jsx(S,{name:t.name,score:u[t.id]||0},t.id))})]},s.id))})]}),e.jsxs(o.section,{variants:h,className:"glass rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-wood-light mb-4",children:"Accomplissements"}),e.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4",children:[{name:"Premier mat",unlocked:i>=1},{name:"5 leçons",unlocked:i>=5},{name:"10 puzzles",unlocked:a>=10},{name:"Série de 5",unlocked:f>=5},{name:"Niveau 5",unlocked:r>=5},{name:"Précision 80%",unlocked:k>=80}].map((s,t)=>e.jsxs(o.div,{initial:{scale:0},animate:{scale:1},transition:{delay:t*.1},className:`aspect-square rounded-xl flex flex-col items-center justify-center p-2 ${s.unlocked?"bg-gradient-to-br from-wood-medium to-yellow-500":"bg-wood-dark/30"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-1 ${s.unlocked?"bg-white/20":"bg-gray-600/30"}`,children:s.unlocked?e.jsx("svg",{className:"w-4 h-4 text-wood-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("span",{className:`text-xs text-center ${s.unlocked?"text-wood-dark":"text-gray-500"}`,children:s.name})]},t))})]})]})]})}function c({label:l,value:d,subtext:m,icon:u,color:x}){const r={blue:"bg-blue-500/20 text-blue-400",orange:"bg-orange-500/20 text-orange-400",yellow:"bg-yellow-500/20 text-yellow-400",purple:"bg-purple-500/20 text-purple-400"};return e.jsxs("div",{className:"glass rounded-xl p-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${r[x]} flex items-center justify-center mb-3`,children:u}),e.jsx("p",{className:"text-2xl font-bold text-wood-light",children:d}),e.jsx("p",{className:"text-sm text-wood-accent",children:l}),e.jsx("p",{className:"text-xs text-wood-dark mt-1",children:m})]})}export{D as default};
