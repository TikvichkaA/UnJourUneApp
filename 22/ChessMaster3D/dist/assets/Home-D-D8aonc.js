import{u as f,j as e,m as r}from"./index-C4qqbxA3.js";import{u as w}from"./progressStore-B8khYM18.js";import{X as N,P as h}from"./ProgressBar-ODAvTMDb.js";import{l as m}from"./lessons-xSRSB9NW.js";import"./middleware-EJ6QVAsm.js";function M(){const l=f(),{lessonsCompleted:d,totalXP:p,level:g,dailyGoalProgress:u}=w(),j=s=>{const t=m.chapters.find(o=>o.id===s);if(!t)return 0;const n=t.lessons.filter(o=>d.includes(o.id)).length;return Math.round(n/t.lessons.length*100)},c=(()=>{for(const s of m.chapters)for(const t of s.lessons)if(!d.includes(t.id))return t;return null})(),v={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},a={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return e.jsxs("div",{className:"min-h-screen p-6 overflow-y-auto",children:[e.jsxs(r.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"max-w-4xl mx-auto mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-display font-bold text-wood-light",children:"ChessMaster 3D"}),e.jsx("p",{className:"text-wood-accent mt-1",children:"Apprenez les échecs pas à pas"})]}),e.jsx("button",{onClick:()=>l("/profile"),className:"glass p-3 rounded-xl hover:border-wood-accent transition-colors",children:e.jsx("svg",{className:"w-6 h-6 text-wood-light",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})})]}),e.jsx(N,{currentXP:p,level:g})]}),e.jsxs(r.main,{variants:v,initial:"hidden",animate:"show",className:"max-w-4xl mx-auto space-y-6",children:[e.jsxs(r.section,{variants:a,className:"glass rounded-2xl p-6",children:[e.jsx("h2",{className:"text-lg font-medium text-wood-light mb-4",children:"Objectif du jour"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsx(h,{value:u.puzzlesSolved,max:5,label:"Puzzles",size:"md",color:"green"})}),e.jsx("div",{children:e.jsx(h,{value:u.minutesPlayed,max:10,label:"Minutes",size:"md",color:"blue"})})]})]}),c&&e.jsx(r.section,{variants:a,children:e.jsx("button",{onClick:()=>l(`/lesson/${c.id}`),className:"w-full glass rounded-2xl p-6 text-left hover:border-wood-medium transition-all group",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-wood-accent text-sm mb-1",children:"Continuer"}),e.jsx("h2",{className:"text-xl font-medium text-wood-light",children:c.title}),e.jsxs("p",{className:"text-wood-dark text-sm mt-1",children:[c.intro.substring(0,60),"..."]})]}),e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-wood-medium to-yellow-500 flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsxs("svg",{className:"w-6 h-6 text-wood-dark",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})]})})}),e.jsxs(r.section,{variants:a,className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>l("/play"),className:"glass rounded-2xl p-6 text-left hover:border-wood-medium transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-500/20 flex items-center justify-center mb-3",children:e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})}),e.jsx("h3",{className:"font-medium text-wood-light",children:"Mode Libre"}),e.jsx("p",{className:"text-sm text-wood-dark mt-1",children:"Jouez sur le plateau 3D"})]}),e.jsxs("button",{onClick:()=>l("/drills"),className:"glass rounded-2xl p-6 text-left hover:border-wood-medium transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-500/20 flex items-center justify-center mb-3",children:e.jsx("svg",{className:"w-5 h-5 text-orange-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),e.jsx("h3",{className:"font-medium text-wood-light",children:"Puzzles"}),e.jsx("p",{className:"text-sm text-wood-dark mt-1",children:"Entraînement tactique"})]})]}),e.jsxs(r.section,{variants:a,children:[e.jsx("h2",{className:"text-lg font-medium text-wood-light mb-4",children:"Parcours"}),e.jsx("div",{className:"space-y-4",children:m.chapters.map((s,t)=>{const n=j(s.id),o=t===0||j(m.chapters[t-1].id)>=50;return e.jsxs(r.div,{variants:a,className:`glass rounded-2xl p-5 ${o?"cursor-pointer hover:border-wood-medium":"opacity-60"} transition-colors`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${n===100?"bg-green-500/20":o?"bg-wood-medium/20":"bg-gray-500/20"}`,children:n===100?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o?e.jsx("span",{className:"text-wood-light font-medium",children:t+1}):e.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-wood-light",children:s.title}),e.jsx("p",{className:"text-sm text-wood-dark",children:s.description})]})]}),e.jsxs("span",{className:"text-wood-accent text-sm",children:[s.lessons.filter(i=>d.includes(i.id)).length,"/",s.lessons.length]})]}),e.jsx(h,{value:n,showPercent:!1,size:"sm",color:n===100?"green":"gold"}),o&&e.jsx("div",{className:"mt-4 space-y-2",children:s.lessons.map(i=>{const x=d.includes(i.id);return e.jsxs("button",{onClick:()=>l(`/lesson/${i.id}`),className:`w-full flex items-center gap-3 p-3 rounded-xl text-left transition-colors ${x?"bg-green-500/10 hover:bg-green-500/20":"hover:bg-wood-dark/20"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${x?"bg-green-500":"border border-wood-dark"}`,children:x&&e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:x?"text-wood-light":"text-wood-accent",children:i.title})]},i.id)})})]},s.id)})})]})]})]})}export{M as default};
