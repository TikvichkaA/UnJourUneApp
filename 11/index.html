<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#FF1493" id="theme-color">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Dreamhouse">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Dreamhouse Quest</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ </text></svg>">
</head>
<body>
    <a href="../" class="back-home">â† Retour</a>

    <!-- Toggle mode sombre -->
    <button class="dark-mode-toggle" onclick="toggleDarkMode()" title="Mode sombre">
        <span id="dark-mode-icon">ğŸŒ™</span>
    </button>

    <!-- Bandeau des rappels permanents -->
    <div class="reminders-sidebar" id="reminders-sidebar">
        <button class="reminders-toggle" id="reminders-toggle" onclick="toggleRemindersSidebar()">
            <span>ğŸ“Œ</span>
        </button>
        <div class="reminders-content">
            <h4>ğŸ  RÃ¨gles maison</h4>
            <div class="reminders-list" id="reminders-list">
                <!-- GÃ©nÃ©rÃ© par JS -->
            </div>
        </div>
    </div>

    <div class="app-container">
        <!-- Header avec stats -->
        <header class="game-header">
            <h1>ğŸ  Jewtown Barbie Dreamhouse</h1>
            <div class="stats-bar">
                <div class="stat">
                    <span class="stat-icon">â­</span>
                    <span class="stat-value" id="points">0</span>
                    <span class="stat-label">points</span>
                </div>
                <div class="stat">
                    <span class="stat-icon">âœ…</span>
                    <span class="stat-value" id="completed">0</span>
                    <span class="stat-label">missions</span>
                </div>
                <div class="level-badge" id="level-badge">
                    <span class="badge-icon">ğŸŒ±</span>
                    <span class="badge-name">Rookie</span>
                </div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
                <span class="progress-text" id="progress-text">0%</span>
            </div>
        </header>

        <!-- Message motivant -->
        <div class="motivation-bubble" id="motivation">
            Bienvenue ! PrÃªtÂ·e Ã  faire briller la Dreamhouse ? âœ¨
        </div>

        <!-- Modes activitÃ© rapides -->
        <div class="activity-modes">
            <button class="activity-btn" onclick="startActivity('cooking')">
                <span>ğŸ³</span> Je cuisine
            </button>
            <button class="activity-btn" onclick="startActivity('shower')">
                <span>ğŸš¿</span> Je me douche
            </button>
            <button class="activity-btn deep-clean" onclick="startActivity('deepClean')">
                <span>âœ¨</span> Nettoyage
            </button>
            <button class="activity-btn departure" onclick="startActivity('departure')">
                <span>âœˆï¸</span> Je pars
            </button>
        </div>

        <!-- Bouton guide "OÃ¹ trouver" -->
        <button class="where-to-find-btn" onclick="showWhereToFind()">
            <span>ğŸ“</span> OÃ¹ trouver les choses ?
        </button>

        <!-- Timer machine Ã  laver -->
        <div class="timer-section" id="timer-section">
            <div class="timer-header">
                <h3>ğŸ§º Machine Ã  laver</h3>
                <button class="timer-close" onclick="cancelTimer()">âœ•</button>
            </div>
            <div class="timer-display" id="timer-display">--:--</div>
            <div class="timer-controls">
                <button class="timer-btn" onclick="startLaundryTimer(60)">1h</button>
                <button class="timer-btn" onclick="startLaundryTimer(90)">1h30</button>
                <button class="timer-btn" onclick="startLaundryTimer(120)">2h</button>
            </div>
            <div class="timer-status" id="timer-status"></div>
        </div>

        <!-- PrioritÃ©s / TÃ¢ches urgentes -->
        <div class="priorities-section" id="priorities-section">
            <h3>ğŸ”¥ Ã€ faire maintenant</h3>
            <div class="priorities-list" id="priorities-list">
                <!-- GÃ©nÃ©rÃ© par JS -->
            </div>
        </div>

        <!-- Zones de la maison -->
        <div class="zones-grid">
            <button class="zone-card" data-zone="kitchen" onclick="showZone('kitchen')">
                <span class="zone-emoji">ğŸ‘©ğŸ»â€ğŸ³</span>
                <span class="zone-name">Cuisine</span>
                <span class="zone-progress" id="kitchen-progress">0/11</span>
            </button>
            <button class="zone-card" data-zone="bathroom" onclick="showZone('bathroom')">
                <span class="zone-emoji">ğŸš¿</span>
                <span class="zone-name">Salle de bain</span>
                <span class="zone-progress" id="bathroom-progress">0/5</span>
            </button>
            <button class="zone-card" data-zone="laundry" onclick="showZone('laundry')">
                <span class="zone-emoji">ğŸ§º</span>
                <span class="zone-name">Linge</span>
                <span class="zone-progress" id="laundry-progress">0/5</span>
            </button>
            <button class="zone-card" data-zone="general" onclick="showZone('general')">
                <span class="zone-emoji">ğŸ </span>
                <span class="zone-name">Rangement</span>
                <span class="zone-progress" id="general-progress">0/11</span>
            </button>
        </div>

        <!-- Panel des missions (cachÃ© par dÃ©faut) -->
        <div class="missions-panel" id="missions-panel">
            <button class="close-panel" onclick="closePanel()">âœ•</button>
            <h2 class="panel-title" id="panel-title">Missions</h2>
            <div class="missions-list" id="missions-list">
                <!-- Missions gÃ©nÃ©rÃ©es par JS -->
            </div>
        </div>

        <!-- Panel statistiques -->
        <div class="missions-panel" id="stats-panel">
            <button class="close-panel" onclick="closeStatsPanel()">âœ•</button>
            <h2 class="panel-title">ğŸ“Š Statistiques</h2>
            <div class="stats-content" id="stats-content">
                <!-- GÃ©nÃ©rÃ© par JS -->
            </div>
        </div>

        <!-- Panel photo aide -->
        <div class="photo-modal" id="photo-modal" onclick="closePhotoModal()">
            <div class="photo-modal-content" onclick="event.stopPropagation()">
                <button class="close-panel" onclick="closePhotoModal()">âœ•</button>
                <h3 id="photo-title">Aide</h3>
                <div class="photo-placeholder" id="photo-placeholder">
                    <span>ğŸ“·</span>
                    <p>Photo Ã  venir</p>
                </div>
                <p class="photo-desc" id="photo-desc"></p>
            </div>
        </div>

        <!-- Info box -->
        <div class="info-box">
            <h3>ğŸ“ Infos pratiques</h3>
            <p><strong>Adresse :</strong> 131 rue Youri Gagarine, 94800 Villejuif</p>
            <p><strong>MÃ©tro :</strong> 7 Villejuif Louis Aragon ou 14 L'HaÃ¿-les-Roses</p>
            <p><strong>AccÃ¨s :</strong> BÃ¢t 2 â€¢ Digicode 97A6 â€¢ Interphone Pham â€¢ 7e Ã©tage</p>
            <p>ğŸšª Appartement avec paillasson gris Ã  rayures</p>
        </div>

        <!-- Boutons d'action -->
        <div class="action-buttons">
            <button class="action-btn stats" onclick="showStats()">
                <span>ğŸ“Š</span> Statistiques
            </button>
            <button class="action-btn custom" onclick="showCustomTasks()">
                <span>â•</span> TÃ¢ches custom
            </button>
        </div>

        <!-- Badges de progression -->
        <div class="badges-section">
            <h3>ğŸ† Progression</h3>
            <div class="badges-grid" id="badges-grid">
                <div class="badge unlocked" data-badge="rookie" title="Rookie - Premier pas !">
                    <span>ğŸŒ±</span>
                </div>
                <div class="badge locked" data-badge="helper" title="Helper - 25% complÃ©tÃ©">
                    <span>ğŸ§¹</span>
                </div>
                <div class="badge locked" data-badge="cleaner" title="Cleaner - 50% complÃ©tÃ©">
                    <span>ğŸ§½</span>
                </div>
                <div class="badge locked" data-badge="pro" title="Pro - 75% complÃ©tÃ©">
                    <span>ğŸ’«</span>
                </div>
                <div class="badge locked" data-badge="legend" title="Legend - 100% complÃ©tÃ© !">
                    <span>ğŸ‘‘</span>
                </div>
            </div>
        </div>

        <!-- Badges d'accomplissement -->
        <div class="badges-section achievements">
            <h3>ğŸ–ï¸ Accomplissements</h3>
            <div class="badges-grid" id="achievements-grid">
                <div class="badge locked" data-achievement="early_bird" title="Early Bird - TÃ¢che avant 9h">
                    <span>ğŸŒ…</span>
                </div>
                <div class="badge locked" data-achievement="night_owl" title="Night Owl - TÃ¢che aprÃ¨s 21h">
                    <span>ğŸ¦‰</span>
                </div>
                <div class="badge locked" data-achievement="late_cleaner" title="Late Cleaner - Rattraper du retard">
                    <span>ğŸ˜…</span>
                </div>
                <div class="badge locked" data-achievement="kitchen_master" title="Chef de Cuisine - Zone cuisine 100%">
                    <span>ğŸ‘©â€ğŸ³</span>
                </div>
                <div class="badge locked" data-achievement="bathroom_pro" title="Salle de Bain Pro - Zone SdB 100%">
                    <span>ğŸ›</span>
                </div>
                <div class="badge locked" data-achievement="laundry_expert" title="MaÃ®tre du Linge - Zone linge 100%">
                    <span>ğŸ§º</span>
                </div>
                <div class="badge locked" data-achievement="tidy_freak" title="Maniaque du Rangement - Zone rangement 100%">
                    <span>ğŸ </span>
                </div>
                <div class="badge locked" data-achievement="centurion" title="Centurion - 100 points">
                    <span>ğŸ’¯</span>
                </div>
                <div class="badge locked" data-achievement="superstar" title="Superstar - 500 points">
                    <span>â­</span>
                </div>
                <div class="badge locked" data-achievement="legendary" title="LÃ©gendaire - 1000 points">
                    <span>ğŸŒŸ</span>
                </div>
                <div class="badge locked" data-achievement="streak_3" title="On Fire - 3 jours parfaits d'affilÃ©e">
                    <span>ğŸ”¥</span>
                </div>
                <div class="badge locked" data-achievement="streak_7" title="InarrÃªtable - 7 jours parfaits d'affilÃ©e">
                    <span>âš¡</span>
                </div>
            </div>
        </div>

        <!-- TÃ¢ches custom -->
        <div class="custom-tasks-section" id="custom-tasks-section" style="display: none;">
            <h3>ğŸ“ Mes tÃ¢ches personnalisÃ©es</h3>
            <div class="custom-tasks-list" id="custom-tasks-list"></div>
            <div class="add-custom-task">
                <input type="text" id="custom-task-input" placeholder="Nouvelle tÃ¢che..." maxlength="50">
                <button onclick="addCustomTask()">+</button>
            </div>
        </div>

        <!-- Bouton reset -->
        <button class="reset-btn" onclick="resetProgress()">ğŸ”„ Recommencer</button>
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <!-- Audio pour le son de complÃ©tion -->
    <audio id="complete-sound" preload="auto">
        <source src="data:audio/wav;base64,UklGRl9vT19teleXhBQEBARERERzBISEREREF" type="audio/wav">
    </audio>

    <footer style="text-align: center; padding: 1rem; color: rgba(255,255,255,0.5); font-size: 0.75rem;">
        DÃ©veloppÃ©e par Emmanuel Pinglier
    </footer>

    <script src="app.js"></script>
</body>
</html>
